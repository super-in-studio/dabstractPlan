<attachment contenteditable="false" data-atts="%5B%5D" data-aid=".atts-df82c5dd-0e5a-4637-bea0-d14cf523884b"></attachment><p>1,org.springframework.boot.SpringApplication.run(Class&lt;?&gt;[], String[])</p><p>新建SpringApplication</p><p>2,org.springframework.boot.SpringApplication.run(String...)</p><p>(1)org.springframework.util.StopWatch 记录启动时间</p><p>(2)org.springframework.boot.SpringApplicationRunListeners </p><p>  spring 默认启动监听器  </p><p>（3）获取启动命令后面参数</p><p>（4）获取环境变量可配置值：</p><p>StandardServletEnvironment {activeProfiles=[], defaultProfiles=[default], propertySources=[ConfigurationPropertySourcesPropertySource {name='configurationProperties'}, StubPropertySource {name='servletConfigInitParams'}, StubPropertySource {name='servletContextInitParams'}, MapPropertySource {name='systemProperties'}, OriginAwareSystemEnvironmentPropertySource {name='systemEnvironment'}, RandomValuePropertySource {name='random'}, ExtendedDefaultPropertySource {name='defaultProperties'}, MapPropertySource {name='springCloudClientHostInfo'}]}</p><p>（5）选择容器类型</p><p>org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext:依赖中有 javax.servlet.Servlet ， org.springframework.web.context.ConfigurableWebApplicationContext</p><p><br></p><p>org.springframework.boot.web.reactive.context.AnnotationConfigReactiveWebServerApplicationContext：</p><p><br></p><p>默认：org.springframework.context.annotation.AnnotationConfigApplicationContext</p><p>（6）org.springframework.boot.SpringBootExceptionReporter ：初始化异常报告</p><p>（7）org.springframework.boot.SpringApplication.prepareContext(ConfigurableApplicationContext, ConfigurableEnvironment, SpringApplicationRunListeners, ApplicationArguments, Banner) ：准备环境</p><p> a. 设置环境StandardServletEnvironment 进容器</p><p> b.org.springframework.boot.SpringApplication.postProcessApplicationContext(ConfigurableApplicationContext) :</p><p><br></p>