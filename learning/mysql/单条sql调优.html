<attachment contenteditable="false" data-atts="%5B%5D" data-aid=".atts-9a03a0a8-675d-4dc6-ab34-747f5fbb06c1"></attachment><p><span style="color: rgb(34, 34, 34);">1.对查询进行优化，应尽量避免全表扫描，首先应考虑在 where 及 order by 涉及的列上建立索引。</span></p><p><span style="color: rgb(34, 34, 34);">2.应尽量避免在 where 子句中使用!=或&lt;&gt;操作符，否则将引擎放弃使用索引而进行全表扫描</span></p><p><span style="color: rgb(34, 34, 34);">3.应尽量避免在 where 子句中对字段进行 null 值判断，否则将导致引擎放弃使用索引而进行全表扫描，如：</span></p><p><span style="color: rgb(34, 34, 34);">select id from t where num is null</span></p><p><span style="color: rgb(34, 34, 34);">可以在num上设置默认值0，确保表中num列没有null值，然后这样查询：</span></p><p><span style="color: rgb(34, 34, 34);">select id from t where num=0</span></p><p><span style="color: rgb(34, 34, 34);">4.应尽量避免在 where 子句中使用 or 来连接条件，否则将导致引擎放弃使用索引而进行全表扫描，如：</span></p><p><span style="color: rgb(34, 34, 34);">select id from t where num=10 or num=20</span></p><p><span style="color: rgb(34, 34, 34);">可以这样查询：</span></p><p><span style="color: rgb(34, 34, 34);">select id from t where num=10</span></p><p><span style="color: rgb(34, 34, 34);">union all</span></p><p><span style="color: rgb(34, 34, 34);">select id from t where num=20</span></p><p><span style="color: rgb(34, 34, 34);">6.in 和 not in 也要慎用，否则会导致全表扫描，如：</span></p><p><span style="color: rgb(34, 34, 34);">select id from t where num in(1,2,3)</span></p><p><span style="color: rgb(34, 34, 34);">对于连续的数值，能用 between 就不要用 in 了：</span></p><p><span style="color: rgb(34, 34, 34);">select id from t where num between 1 and 3</span></p><p><span style="color: rgb(34, 34, 34);">8.应尽量避免在 where 子句中对字段进行表达式操作，这将导致引擎放弃使用索引而进行全表扫描。如：</span></p><p><span style="color: rgb(34, 34, 34);">select id from t where num/2=100</span></p><p><span style="color: rgb(34, 34, 34);">应改为:</span></p><p><span style="color: rgb(34, 34, 34);">select id from t where num=100*2</span></p><p><br></p><p><br></p>