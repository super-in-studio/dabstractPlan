<attachment contenteditable="false" data-atts="%5B%5D" data-aid=".atts-6cf833f2-a28f-4eee-9dfc-d3e320c2dd9e"></attachment><p>1.增加节点命令，如果忘记了master的token</p><p>kubeadm token create --print-join-command</p><p><br></p><p>2.创建应用</p><p>run nginx-dep --image=nginx:latest --port=80 --replicas=2 --dry-run 试跑</p><p>3.查看命令</p><p>kubectl get pods -o wide</p><p>kubectl describe pod nginx-dep-6949bfd8f7-8jtx8</p><p>kubectl exec -it nginx-dep-6949bfd8f7-8jtx8 /bin/bash</p><p>3.service 应用</p><p>&nbsp;kubectl expose deployment nginx-dep --name=nginx-svc <span style="background-color: rgb(230, 0, 0);">--port=8080 --target-port=80</span></p><p>kubectl get svc</p><p>kubectl edit svc nginx-svc</p><p>改这里:</p><p>spec:</p><p>&nbsp;clusterIP: 192.168.34.253</p><p>&nbsp;externalTrafficPolicy: Cluster</p><p>&nbsp;ports:</p><p>&nbsp;- nodePort: 32049</p><p>&nbsp;&nbsp;port: 8080</p><p>&nbsp;&nbsp;protocol: TCP</p><p>&nbsp;&nbsp;targetPort: 80</p><p>&nbsp;selector:</p><p>&nbsp;&nbsp;run: nginx-dep</p><p>&nbsp;sessionAffinity: None</p><p>&nbsp;type: <span style="background-color: rgb(230, 0, 0);">NodePort</span></p><p><br></p><p><br></p><p>nginx-svc&nbsp;&nbsp;NodePort&nbsp;&nbsp;192.168.34.253&nbsp;&nbsp;&lt;none&gt;&nbsp;&nbsp;&nbsp;&nbsp;8080:<strong style="background-color: rgb(230, 0, 0);">32049</strong>/TCP&nbsp;&nbsp;12m</p><p><br></p><p>外网访问：xxxxx:<strong style="background-color: rgb(230, 0, 0);">32049</strong></p><p><br></p><p><br></p><p><br></p>