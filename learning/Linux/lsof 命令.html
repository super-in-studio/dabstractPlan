<attachment contenteditable="false" data-atts="%5B%5D" data-aid=".atts-0cceaa59-4d1d-4e78-ada1-d14ae84537a9"></attachment><p><span style="background-color: rgb(238, 238, 238);">用于查看你进程开打的文件，打开文件的进程，进程打开的端口(TCP、UDP)。找回/恢复删除的文件。是十分方便的系统监视工具，因为 lsof 需要访问核心内存和各种文件，所以需要</span><strong style="background-color: rgb(238, 238, 238);">root用户执行</strong><span style="background-color: rgb(238, 238, 238);">。</span></p><p><br></p><p><br></p><p><br></p><p>lsof -i:{端口号} ， 用于查看端口是否开启</p><p><br></p><p><br></p><p><span style="background-color: rgb(238, 238, 238); color: rgb(51, 51, 51);">lsof abc.txt 显示开启文件abc.txt的进程</span></p><p><span style="background-color: rgb(238, 238, 238); color: rgb(51, 51, 51);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lsof -c abc 显示abc进程现在打开的文件</span></p><p><span style="background-color: rgb(238, 238, 238); color: rgb(51, 51, 51);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lsof -c -p 1234 列出进程号为1234的进程所打开的文件</span></p><p><span style="background-color: rgb(238, 238, 238); color: rgb(51, 51, 51);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lsof -g gid 显示归属gid的进程情况</span></p><p><span style="background-color: rgb(238, 238, 238); color: rgb(51, 51, 51);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lsof +d /usr/local/ 显示目录下被进程开启的文件</span></p><p><span style="background-color: rgb(238, 238, 238); color: rgb(51, 51, 51);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lsof +D /usr/local/ 同上，但是会搜索目录下的目录，时间较长</span></p><p><span style="background-color: rgb(238, 238, 238); color: rgb(51, 51, 51);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lsof -d 4 显示使用fd为4的进程</span></p><p><span style="background-color: rgb(238, 238, 238); color: rgb(51, 51, 51);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lsof -i 用以显示符合条件的进程情况</span></p><p><span style="background-color: rgb(238, 238, 238); color: rgb(51, 51, 51);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lsof -i[46] [protocol][@hostname|hostaddr][:service|port]</span></p><p><span style="background-color: rgb(238, 238, 238); color: rgb(51, 51, 51);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&gt; IPv4 or IPv6</span></p><p><span style="background-color: rgb(238, 238, 238); color: rgb(51, 51, 51);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;protocol --&gt; TCP or UDP</span></p><p><span style="background-color: rgb(238, 238, 238); color: rgb(51, 51, 51);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hostname --&gt; Internet host name</span></p><p><span style="background-color: rgb(238, 238, 238); color: rgb(51, 51, 51);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hostaddr --&gt; IPv4地址</span></p><p><span style="background-color: rgb(238, 238, 238); color: rgb(51, 51, 51);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;service --&gt; /etc/service中的 service name (可以不止一个)</span></p><p><br></p>