<attachment contenteditable="false" data-atts="%5B%5D" data-aid=".atts-8750b928-6d5a-4332-8898-ed089d572bfd"></attachment><ul><li>TCP port 2377 for cluster management communications</li><li>TCP and UDP port 7946 for communication among nodes</li><li>UDP port 4789 for overlay network traffic</li><li>use "netstat -tlnpu" to check </li></ul><p><span style="background-color: rgb(245, 248, 250); color: rgb(12, 81, 118);">docker swarm init</span></p><p><span style="background-color: rgb(245, 248, 250); color: rgb(12, 81, 118);">docker swarm join</span></p><p><span style="background-color: rgb(245, 248, 250); color: rgb(12, 81, 118);">docker swarm leave --force</span></p><p><br></p><p><span style="background-color: rgb(245, 248, 250); color: rgb(12, 81, 118);">1,docker swarm init</span></p><p><span style="background-color: rgb(245, 248, 250); color: rgb(12, 81, 118);">2,docker swarm join</span></p><p><span style="background-color: rgb(245, 248, 250); color: rgb(12, 81, 118);">3,docker node ls</span></p><p><span style="background-color: rgb(245, 248, 250); color: rgb(12, 81, 118);">4, </span>docker network create --driver=overlay --attachable test-net</p><p>默认名为ingress 的overlay driver是默认是不支持standalone容器加入的，所以我需要重新new一个overlay，并设置一下允许standalone容器加入此网络</p><p><br></p><p><span style="background-color: rgb(245, 248, 250); color: rgb(12, 81, 118);">5,</span><span style="color: rgb(94, 94, 94);">docker service create --name dabstract-eurka-service&nbsp; -p </span>8762<span style="color: rgb(94, 94, 94);">:</span>8762<span style="color: rgb(94, 94, 94);">&nbsp;-e "spring.profiles.active=dev" --replicas 1&nbsp;--network </span>registry.cn-shenzhen.aliyuncs.com/dabstract/dabstract-eureka-service:latest</p><p><br></p>